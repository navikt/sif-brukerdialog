name: Deploy app to dev
run-name: Deploy ${{ inputs.app-name }} to dev

on:
    workflow_dispatch:
        inputs:
            app-name:
                description: Choose application
                type: choice
                options:
                    - endringsmelding-pleiepenger
                    - omsorgspengesoknad
                    - sif-ettersending
                    - ekstra-omsorgsdager-andre-forelder-ikke-tilsyn
                    - omsorgsdager-aleneomsorg-dialog
                    - omsorgspengerutbetaling-soknad
                    - omsorgspengerutbetaling-arbeidstaker-soknad
                required: true

jobs:
    deploy-to-dev:
        name: Deploy ${{ inputs.app-name }} to dev
        uses: navikt/sif-brukerdialog/.github/workflows/.deploy-app-to-dev.yml@main
        secrets:
            NAIS_DEPLOY_APIKEY: ${{ secrets.NAIS_DEPLOY_APIKEY }}
        with:
            app-name: '${{ inputs.app-name }}'
            working-directory: 'apps/${{ inputs.app-name }}'
